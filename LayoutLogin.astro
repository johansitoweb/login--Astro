---
import hasProfile from "@utils/profile";

const cookie: string = `${Astro.cookies.get(import.meta.env.COOKIE_NAME || "_Security_Login_")?.value}`;
const d = hasProfile(cookie);
let login: string = `${d.success}`;
---

<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="Content-Encoding" content="gzip" />
    <title translate="no">Login</title>
    <link rel="stylesheet" href="/css/style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta property="og:title" content="Login" />
    <meta property="og:image:width" content="200" />
    <meta property="og:image:height" content="200" />
    <meta property="og:type" content="website" />
    <meta property="og:color" content="#1c041b" />
    <link rel="icon" href="/img/favicon.ico" />
    <link rel="apple-touch-icon" href="/img/favicon.ico" />
    <link rel="apple-touch-icon-precomposed" href="/img/favicon.ico" />
    <link rel="shortcut icon" href="/img/favicon.ico" />
    <script is:inline>
      window.onload = function () {
        const loginData = document.getElementById("loginInput").value;
        if (loginData == "true") {
          window.location.href = "/";
        }
      };
    </script>
  </head>
  <body>
    <input type="hidden" name="loginInput" id="loginInput" value={login} />
    <slot />
  </body>
</html>
